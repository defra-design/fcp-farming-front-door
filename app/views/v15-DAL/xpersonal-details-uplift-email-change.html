{% extends "layouts/main-rebrand.html" %}


{% if data.view == "int" %}
{% set _showFooterMVPLinks = false %}
{% else %}
{% set _showFooterMVPLinks = true %}
{% endif %}

{% if data.view == "int" %}
{% set _showReleaseLinks = false %}
{% else %}
{% set _showReleaseLinks = false %}
{% endif %}

{% set _showIntExtLinks = true %}

{% set _inError = myData.validationError == "true" %}

{% set pageTitle = "Enter your personal address" %}
{% set pageName = pageTitle %}
{% if _inError %}
{% set pageName = "Error: " + pageTitle %}
{% endif %}

{% set serviceName = "Farm and Land Service" %}

{% if data.view == "ext" and data.release != "concept" %}
{% set _showDesignSpec = true %}
{% set _designSpecData = {
"status": 'In development',
"name": "Address (change) - personal details",
"id": "pd06",
"url": "personal-details-address-change?r=t&view=ext&release=b1&newChange=true",
"release": "Buffalo 1.0 MVP",
"variants": [],

"pagetitle": pageTitle,
"pagedesc": "",
"pageurl": "",
"errormessages": [
{
"field": "Address line 1",
"scenario": "Empty field / nothing entered",
"content": "Enter address line 1, typically the building and street"
},
{
"field": "Address line 1",
"scenario": "Entry is too long",
"content": "Address line 1 must be 100 characters or less"
},

{
"field": "Address line 2",
"scenario": "Entry is too long",
"content": "Address line 2 must be 100 characters or less"
},

{
"field": "Town or city",
"scenario": "Empty field / nothing entered",
"content": "Enter town or city"
},
{
"field": "Town or city",
"scenario": "Entry is too long",
"content": "Town or city must be 100 characters or less"
},

{
"field": "County",
"scenario": "Entry is too long",
"content": "County must be 100 characters or less"
},

{
"field": "Postal code or zip code",
"scenario": "Entry is too long",
"content": "Postal code or zip code must be 10 characters or less"
},

{
"field": "Country",
"scenario": "Empty field / nothing entered",
"content": "Enter a country"
},
{
"field": "Country",
"scenario": "Entry is too long",
"content": "Country must be 60 characters or less"
}

],

"notes": [
"Pre populate fields with previously selected/entered address AND also pre-populate fields with known values if an
address has been selected from the postcode lookup"
]

}
%}
{% elif data.view == "int"%}
{% set _showDesignSpec = true %}
{% set _designSpecData = {
"status": 'In development',
"name": "Address (change) - personal details",
"id": "int-pd06",
"url": "personal-details-address-change?r=t&view=int&release=b2&newChange=true",
"release": "Buffalo 1.1 MVP",
"variants": [],

"pagetitle": pageTitle,
"pagedesc": "",
"pageurl": "",
"errormessages": [
{
"field": "Address line 1",
"scenario": "Empty field / nothing entered",
"content": "Enter address line 1, typically the building and street"
},
{
"field": "Address line 1",
"scenario": "Entry is too long",
"content": "Address line 1 must be 100 characters or less"
},

{
"field": "Address line 2",
"scenario": "Entry is too long",
"content": "Address line 2 must be 100 characters or less"
},

{
"field": "Town or city",
"scenario": "Empty field / nothing entered",
"content": "Enter town or city"
},
{
"field": "Town or city",
"scenario": "Entry is too long",
"content": "Town or city must be 100 characters or less"
},

{
"field": "County",
"scenario": "Entry is too long",
"content": "County must be 100 characters or less"
},

{
"field": "Postal code or zip code",
"scenario": "Entry is too long",
"content": "Postal code or zip code must be 10 characters or less"
},

{
"field": "Country",
"scenario": "Empty field / nothing entered",
"content": "Enter a country"
},
{
"field": "Country",
"scenario": "Entry is too long",
"content": "Country must be 60 characters or less"
}

],

"notes": [
"Pre populate fields with previously selected/entered address AND also pre-populate fields with known values if an
address has been selected from the postcode lookup"
]

}
%}
{% else %}

{% endif %}


{% block beforeContent %}

{% if data.view != "int" %}

{% include "_common/phase-banner-2.html" %}
{% include "_common/sub-header-2.html" %}

{% set _hideAccountLink = true %}
{% include "_common/login-nav-3.html" %}
{% else %}
{% include "_common/login-nav-internal.html" %}
{% endif %}

<a href="javascript:history.back()" class="govuk-back-link govuk-!-margin-bottom-0">Back</a>

{% endblock %}


{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    {% if _inError %}
    <div class="govuk-error-summary" data-module="govuk-error-summary">
      <div role="alert">
        <h2 class="govuk-error-summary__title">
          There is a problem
        </h2>
        <div class="govuk-error-summary__body">
          <ul class="govuk-list govuk-error-summary__list">
            {% for name, item in myData.validationErrors %}
            <li>
              <a href="#{{item.anchor}}">{{item.message}}</a>
            </li>
            {% endfor %}
          </ul>
        </div>
      </div>
    </div>
    {% endif %}


    <fieldset class="govuk-fieldset">
      <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
        <h1 class="govuk-fieldset__heading">
          Your personal details to update
        </h1> 
      </legend>

      <form action="xpersonal-details-uplift-email-check">

        <!-- Personal email address -->
        <div class="govuk-form-group">
        <label class="govuk-label govuk-label--m" for="personal-email-address">
          Personal email address
        </label>
        <input class="govuk-input govuk-input--width-20" id="personal-email" name="personal-email-address"
          type="text" value="alfredoldemail@gmail.com">
      </div>

        <!--dob-->

        
        

      <div class="govuk-form-group">
  <fieldset class="govuk-fieldset" role="group" aria-describedby="passport-issued-hint">
    <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
      <h1 class="govuk-fieldset__heading">
        Date of birth
      </h1>
    </legend>
    <div id="passport-issued-hint" class="govuk-hint">
      For example, 27 3 2007
    </div>
    <div class="govuk-date-input" id="dob-day">
      <div class="govuk-date-input__item">
        <div class="govuk-form-group">
          <label class="govuk-label govuk-date-input__label" for="dob-day">
            Day
          </label>
          <input class="govuk-input govuk-date-input__input govuk-input--width-2" id="dob-day" name="dob-day" type="text" inputmode="numeric">
        </div>
      </div>
      <div class="govuk-date-input__item">
        <div class="govuk-form-group">
          <label class="govuk-label govuk-date-input__label" for="dob-month">
            Month
          </label>
          <input class="govuk-input govuk-date-input__input govuk-input--width-2" id="dob-month" name="dob-month" type="text" inputmode="numeric">
        </div>
      </div>
      <div class="govuk-date-input__item">
        <div class="govuk-form-group">
          <label class="govuk-label govuk-date-input__label" for="dob-year">
            Year
          </label>
          <input class="govuk-input govuk-date-input__input govuk-input--width-4" id="dob-year" name="dob-year" type="text" inputmode="numeric">
        </div>
      </div>
    </div>
  </fieldset>
</div>

       <!--{% from "govuk/components/date-input/macro.njk" import govukDateInput %}

        {{ govukDateInput({
        id: "dob",
        namePrefix: "dob",
        fieldset: {
        legend: {
        text: "Date of birth",
        isPageHeading: true,
        classes: "govuk-fieldset__legend--m"
        }
        },
        hint: {
        text: "For example, 27 3 2007"
        }
        }) }}--> 

<div class="govuk-form-group">
        <fieldset class="govuk-fieldset">
          <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
            <h2 class="govuk-fieldset__heading">
              What is your address?
            </h2>
          </legend>
          <div class="govuk-form-group">
            <label class="govuk-label" for="personal-address-line-1">
              Address line 1
            </label>
            <div id="personal-address-line1-hint" class="govuk-hint">
            Include flat and floor numbers, where appropriate
            </div>
            <input class="govuk-input" id="personal-address-line-1" name="personal-address-line1" type="text"
              autocomplete="personal-address-line1" value="{{data['personal-address-line1']}}">
          </div>
          <div class="govuk-form-group">
            <label class="govuk-label" for="personal-address-line-2">
              Address line 2 (optional)
            </label>
            <input class="govuk-input" id="personal-address-line-2" name="personal-address-line2" type="text"
              autocomplete="personal-address-line2" value="{{data['personal-address-line2']}}">
          </div>
          <div class="govuk-form-group">
            <label class="govuk-label" for="personal-address-town">
              Town or city
            </label>
            <input class="govuk-input govuk-!-width-two-thirds" id="personal-address-town" name="personal-address-town"
              type="text" autocomplete="personal-address-level2" value="{{data['personal-address-town']}}">
          </div>
          <div class="govuk-form-group">
            <label class="govuk-label" for="personal-address-county">
              County (optional)
            </label>
            <input class="govuk-input govuk-!-width-two-thirds" id="personal-address-county"
              name="personal-address-county" type="text" value="{{data['personal-address-county']}}">
          </div>
          <div class="govuk-form-group">
            <label class="govuk-label" for="personal-address-postcode">
               Postal code or zip code (if you have one) 
            </label>
            <input class="govuk-input govuk-input--width-10" id="personal-address-postcode"
              name="personal-address-postcode" type="text" autocomplete="postal-code" value="{{data['personal-address-postcode']}}">
          </div>
          <div class="govuk-form-group">
            <label class="govuk-label" for="personal-address-country">
              Country
            </label>
            <input class="govuk-input govuk-!-width-two-thirds" id="personal-address-country"
              name="personal-address-country" type="text" value="{{data['personal-address-country']}}">
          </div>
        </fieldset>
      </div>


        <!--phone numbers-->
      
<div class="govuk-form-group {% if myData.validationErrors.phoneNumbersPers %}govuk-form-group--error{% endif %}">

      <fieldset class="govuk-fieldset">
        <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
          <h1 class="govuk-fieldset__heading">
            What are your personal phone numbers?
          </h1>
        </legend>

        <div id="nationality-hint" class="govuk-hint">
          Enter at least one phone number
        </div>

        {% if myData.validationErrors.phoneNumbersPers %}
          <p id="phoneNumbersPers-error" class="govuk-error-message">
            <span class="govuk-visually-hidden">Error:</span> {{myData.validationErrors.phoneNumbersPers.message}}
          </p>
        {% endif %}

        <div class="govuk-form-group {% if myData.validationErrors.telNumberPers %}govuk-form-group--error{% endif %}">

          <label class="govuk-label" for="telNumberPers">
            Personal telephone number
          </label>
  
          {% if myData.validationErrors.telNumberPers %}
          <p id="telNumberPers-error" class="govuk-error-message">
            <span class="govuk-visually-hidden">Error:</span> {{myData.validationErrors.telNumberPers.message}}
          </p>
          {% endif %}
  
          {% set _valueNewTelNumberPers = myData.newTelNumberPers %}
          {% if _valueNewTelNumberPers == null %}
            {% set _valueNewTelNumberPers = myData.telNumberPers %}
          {% endif %}

         {% if data.addNumberPers == "empty"  %}

           <input class="govuk-input govuk-input--width-20 {% if myData.validationErrors.telNumberPers or myData.validationErrors.phoneNumbersPers %}govuk-input--error{% endif %}" id="telNumberPers" name="telNumberPers" type="tel" autocomplete="tel" value="" {% if myData.validationErrors.telNumberPers %}aria-describedby="telNumberPers-error"{% endif %} {% if myData.validationErrors.phoneNumbersPers %}aria-describedby="phoneNumbersPers-error"{% endif %}>

          {% else %}
  
          <input class="govuk-input govuk-input--width-20 {% if myData.validationErrors.telNumberPers or myData.validationErrors.phoneNumbersPers %}govuk-input--error{% endif %}" id="telNumberPers" name="telNumberPers" type="tel" autocomplete="tel" value="{{_valueNewTelNumberPers}}" {% if myData.validationErrors.telNumberPers %}aria-describedby="telNumberPers-error"{% endif %} {% if myData.validationErrors.phoneNumbersPers %}aria-describedby="phoneNumbersPers-error"{% endif %}>

          {% endif %}
        </div>

        <div class="govuk-form-group {% if myData.validationErrors.mobNumberPers %}govuk-form-group--error{% endif %}">

          <label class="govuk-label" for="mobNumberPers">
            Personal mobile phone number
          </label>

          {% if myData.validationErrors.mobNumberPers %}
          <p id="mobNumberPers-error" class="govuk-error-message">
            <span class="govuk-visually-hidden">Error:</span> {{myData.validationErrors.mobNumberPers.message}}
          </p>
          {% endif %}

          {% set _valueNewMobNumberPers = myData.newMobNumberPers %}
          {% if _valueNewMobNumberPers == null %}
            {% set _valueNewMobNumberPers = myData.mobNumberPers %}
          {% endif %}

          {% if data.addNumberPers == "empty"  %}

          <input class="govuk-input govuk-input--width-20 {% if myData.validationErrors.mobNumberPers or myData.validationErrors.phoneNumbersPers %}govuk-input--error{% endif %}" id="mobNumberPers" name="mobNumberPers" type="tel" autocomplete="tel" value="" {% if myData.validationErrors.mobNumberPers %}aria-describedby="mobNumberPers-error"{% endif %} {% if myData.validationErrors.phoneNumbersPers %}aria-describedby="phoneNumbersPers-error"{% endif %}>

          {% else %}
  
          <input class="govuk-input govuk-input--width-20 {% if myData.validationErrors.mobNumberPers or myData.validationErrors.phoneNumbersPers %}govuk-input--error{% endif %}" id="mobNumberPers" name="mobNumberPers" type="tel" autocomplete="tel" value="{{_valueNewMobNumberPers}}" {% if myData.validationErrors.mobNumberPers %}aria-describedby="mobNumberPers-error"{% endif %} {% if myData.validationErrors.phoneNumbersPers %}aria-describedby="phoneNumbersPers-error"{% endif %}>

          {% endif %}

        </div>

      </fieldset>

      </div>

    

        {{govukButton({
        text: "Continue"
        })}}

        <!--- <p class="govuk-body"><a href="details-personal-details" class="govuk-link govuk-link--no-visited-state">Cancel</a></p> --->

      </form>

  </div>
</div>





{% endblock %}